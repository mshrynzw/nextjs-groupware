# TimePort v4 - å‹¤æ€ ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 

<div align="center">
  <img src="https://img.shields.io/badge/Next.js-15-black?style=for-the-badge&logo=next.js" alt="Next.js">
  <img src="https://img.shields.io/badge/TypeScript-blue?style=for-the-badge&logo=typescript" alt="TypeScript">
  <img src="https://img.shields.io/badge/Supabase-3ECF8E?style=for-the-badge&logo=supabase&logoColor=white" alt="Supabase">
  <img src="https://img.shields.io/badge/Tailwind%20CSS-38B2AC?style=for-the-badge&logo=tailwind-css&logoColor=white" alt="Tailwind CSS">
  <img src="https://img.shields.io/badge/PostgreSQL-336791?style=for-the-badge&logo=postgresql&logoColor=white" alt="PostgreSQL">
</div>

## ğŸ“‹ æ¦‚è¦

TimePort v4ã¯ã€ç¾ä»£ã®ä¼æ¥­ãƒ‹ãƒ¼ã‚ºã«å¿œãˆã‚‹é«˜æ©Ÿèƒ½ãªå‹¤æ€ ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…ã€ç®¡ç†è€…ã€ãƒ¡ãƒ³ãƒãƒ¼ã®3ã¤ã®å½¹å‰²ã«å¯¾å¿œã—ã€æŸ”è»Ÿãªè¨­å®šæ©Ÿèƒ½ã¨ç›´æ„Ÿçš„ãªUIã‚’æä¾›ã—ã¾ã™ã€‚

## ğŸ“‹ æ–¹é‡

- å°†æ¥çš„ã«å¤šãã®ä¼šç¤¾æ§˜ã«ã”åˆ©ç”¨ã„ãŸã ã‘ã‚‹ã‚ˆã†ãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆå‹ã®è¨­è¨ˆã‚’ã—ã¦ã„ã¾ã™ã€‚
- æ§˜ã€…ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ‹ãƒ¼ã‚ºã«å¯¾å¿œã§ãã‚‹ã‚ˆã†å‹•çš„ãªè¨­è¨ˆæ€æƒ³ã§é–‹ç™ºã‚’ã—ã¾ã™ã€‚ï¼ˆãªã‚‹ã¹ãå›ºå®šå€¤ã¯ã‚³ãƒ¼ãƒ‰ã‚„ç’°å¢ƒå¤‰æ•°ã«ä¿æŒã›ãšã€DBãƒ»è¨­å®šç”»é¢ã«ä¿æŒã™ã‚‹ã€‚ï¼‰
- ç¾çŠ¶ã¯ãƒ†ã‚¯ãƒ¬ã‚¢ã‹ã‚‰ã®è¦ä»¶ã‚’Adminãƒ»Memberè¨­å®šç”»é¢ã®è¨­å®šã§å®Ÿç¾ã™ã‚‹æ–¹å‘æ€§ã§ã™ã€‚

### âœ¨ ä¸»ãªç‰¹å¾´

- ğŸ• **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ‰“åˆ»** - æ­£ç¢ºãªå‹¤æ€ è¨˜éŒ²ã¨ä¼‘æ†©ç®¡ç†
- ğŸ“Š **ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰** - å‹¤æ€ çŠ¶æ³ã®å¯è¦–åŒ–ã¨çµ±è¨ˆ
- ğŸ“ **å‹•çš„ç”³è«‹ãƒ•ã‚©ãƒ¼ãƒ ** - ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãªç”³è«‹ã‚·ã‚¹ãƒ†ãƒ 
- ğŸ‘¥ **éšå±¤çš„ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†** - ä¼æ¥­ãƒ»ã‚°ãƒ«ãƒ¼ãƒ—ãƒ»å€‹äººã®3å±¤æ§‹é€ 
- âš™ï¸ **æŸ”è»Ÿãªè¨­å®š** - æ©Ÿèƒ½ON/OFFã€å‹¤å‹™æ™‚é–“ã€é€šçŸ¥è¨­å®š
- ğŸ“± **PWAå¯¾å¿œ** - ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œã¨ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥
- ğŸ” **Row Level Security** - ãƒ‡ãƒ¼ã‚¿ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®ç¢ºä¿
- ğŸ“ˆ **ç›£æŸ»ãƒ­ã‚°** - ã‚·ã‚¹ãƒ†ãƒ æ“ä½œã®è¿½è·¡

## ğŸ—ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

- **Next.js 15** (App Router)
- **TypeScript 5.2** - å‹å®‰å…¨æ€§
- **Tailwind CSS 3.3** - ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°
- **shadcn/ui** - UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- **React Hook Form 7.60** + **Zod 3.25** - ãƒ•ã‚©ãƒ¼ãƒ ç®¡ç†ãƒ»ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
- **date-fns 3.6** - æ—¥ä»˜å‡¦ç†
- **Lucide React 0.446** - ã‚¢ã‚¤ã‚³ãƒ³
- **Recharts 2.12** - ãƒãƒ£ãƒ¼ãƒˆãƒ»ã‚°ãƒ©ãƒ•
- **Sonner 2.0** - ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰

- **Supabase 2.50** - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ»èªè¨¼ãƒ»ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ 
- **PostgreSQL** - ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸
- **Row Level Security (RLS)** - ãƒ‡ãƒ¼ã‚¿ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- **Supabase Auth** - èªè¨¼ã‚·ã‚¹ãƒ†ãƒ 

### é–‹ç™ºãƒ„ãƒ¼ãƒ«

- **Cursor** - IDE
- **Docker Desktop** - ãƒ­ãƒ¼ã‚«ãƒ«ã§Supabaseã‚’å‹•ä½œã•ã›ã‚‹ãŸã‚ã«å¿…è¦
- **Supabase CLI** - ãƒ­ãƒ¼ã‚«ãƒ«ã§Supabaseã‚’å‹•ä½œã•ã›ã‚‹ãŸã‚ã«å¿…è¦
- **ESLint 8.49** + **Prettier 3.6** - ã‚³ãƒ¼ãƒ‰å“è³ª
- **TypeScript ESLint 8.36** - TypeScriptç”¨ãƒªãƒ³ãƒˆ
- **pnpm** - ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### å‰ææ¡ä»¶

- **Node.js 22ä»¥ä¸Š**
- **pnpm** (æ¨å¥¨) ã¾ãŸã¯ npm
- **Supabaseã‚¢ã‚«ã‚¦ãƒ³ãƒˆ** (æœ¬ç•ªç’°å¢ƒç”¨)

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

1. **ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³**

```bash
git clone https://github.com/canvas-sapporo/timeport-v4.git
cd timeport-v4
```

2. **ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**

```bash
pnpm install
```

3. **ç’°å¢ƒå¤‰æ•°ã®è¨­å®š**

```bash
cp .env.example .env.local
```

`.env.local` ã‚’ç·¨é›†ï¼š

```env
# ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹åˆ‡ã‚Šæ›¿ãˆï¼ˆé–‹ç™ºåˆæœŸã¯ãƒ¢ãƒƒã‚¯ä½¿ç”¨ï¼‰
NEXT_PUBLIC_USE_SUPABASE=true

# Supabaseè¨­å®šï¼ˆæœ¬ç•ªç’°å¢ƒç”¨ï¼‰
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key
```

4. **ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…ã‚’ä½œæˆ**
   Supabaseã®ãƒ–ãƒ©ã‚¦ã‚¶ã‚³ãƒ¼ãƒ³ã‚½ãƒ¼ãƒ«ã§ä»¥ä¸‹ã‚’å®Ÿæ–½ã™ã‚‹ã€‚

- Authenticationã§ã€ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…ã®userã‚’ä½œæˆã™ã‚‹ã€‚
- Table Editorã§ã€user_profilesãƒ†ãƒ¼ãƒ–ãƒ«ã«ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…ã®ãƒ‡ãƒ¼ã‚¿ã‚’æŒ¿å…¥ã™ã‚‹ã€‚

5. **é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•**

```bash
pnpm dev
```

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ `http://localhost:3000` ã§èµ·å‹•ã—ã¾ã™ã€‚

### ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

#### ãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãƒãƒ£ãƒƒãƒˆç®¡ç†è€…æ›´æ–°

æ—¢å­˜ã®ãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãƒãƒ£ãƒƒãƒˆã®å‚åŠ è€…å…¨å“¡ã‚’ç®¡ç†è€…ã«æ›´æ–°ã™ã‚‹å ´åˆï¼š

```bash
pnpm run update-direct-chat-admins
```

ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ã€æ—¢å­˜ã®ãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆãƒãƒ£ãƒƒãƒˆï¼ˆ`chat_type = 'direct'`ï¼‰ã®å‚åŠ è€…å…¨å“¡ã®ãƒ­ãƒ¼ãƒ«ã‚’ `admin` ã«è¨­å®šã—ã¾ã™ã€‚

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
timeport-v4/
â”œâ”€â”€ app/                              # Next.js App Router
â”‚   â”œâ”€â”€ admin/                       # ç®¡ç†è€…ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ attendance/              # å‹¤æ€ ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ attendance-statuses/     # å‹¤æ€ ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â””â”€â”€ monitoring/          # èªè¨¼ç›£è¦–
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ group/                   # ã‚°ãƒ«ãƒ¼ãƒ—ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ logs/                    # ãƒ­ã‚°ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ report-templates/        # ãƒ¬ãƒãƒ¼ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ edit/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ preview/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ create/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ request-forms/           # ç”³è«‹ãƒ•ã‚©ãƒ¼ãƒ ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ edit/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â””â”€â”€ create/
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ requests/                # ç”³è«‹ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ monitoring/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ settings/                # è¨­å®šç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ notifications/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ users/                   # ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â””â”€â”€ page.tsx                 # ç®¡ç†è€…ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ api/                         # API Routes
â”‚   â”‚   â”œâ”€â”€ admin/                   # ç®¡ç†è€…ç”¨API
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ monitoring/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ route.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ logs/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ audit/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ export/
â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ system/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ export/
â”‚   â”‚   â”‚   â”‚       â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ route.ts
â”‚   â”‚   â”‚   â””â”€â”€ requests/
â”‚   â”‚   â”‚       â””â”€â”€ monitoring/
â”‚   â”‚   â”‚           â””â”€â”€ route.ts
â”‚   â”‚   â”œâ”€â”€ audit-logs/              # ç›£æŸ»ãƒ­ã‚°API
â”‚   â”‚   â”‚   â””â”€â”€ auth/
â”‚   â”‚   â”‚       â””â”€â”€ route.ts
â”‚   â”‚   â”œâ”€â”€ csv-export/              # CSVå‡ºåŠ›API
â”‚   â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”œâ”€â”€ debug/                   # ãƒ‡ãƒãƒƒã‚°ç”¨API
â”‚   â”‚   â”‚   â”œâ”€â”€ push-subscriptions/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ request-forms/
â”‚   â”‚   â”‚   â”œâ”€â”€ test-push/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”‚   â””â”€â”€ test-server-actions/
â”‚   â”‚   â”‚       â””â”€â”€ route.ts
â”‚   â”‚   â”œâ”€â”€ push/                    # ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥API
â”‚   â”‚   â”‚   â”œâ”€â”€ send/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”‚   â””â”€â”€ subscribe/
â”‚   â”‚   â”‚       â””â”€â”€ route.ts
â”‚   â”‚   â”œâ”€â”€ system-admin/            # ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…ç”¨API
â”‚   â”‚   â”‚   â””â”€â”€ logs/
â”‚   â”‚   â”‚       â”œâ”€â”€ audit/
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ settings/
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ stats/
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”‚       â””â”€â”€ system/
â”‚   â”‚   â”‚           â””â”€â”€ route.ts
â”‚   â”‚   â”œâ”€â”€ test-audit-logs/
â”‚   â”‚   â”œâ”€â”€ test-logs/
â”‚   â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â””â”€â”€ about.txt
â”‚   â”œâ”€â”€ login/                       # ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ member/                      # ãƒ¡ãƒ³ãƒãƒ¼ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ attendance/              # å‹¤æ€ è¨˜éŒ²
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ chat/                    # ãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ disabled/                # æ©Ÿèƒ½ç„¡åŠ¹åŒ–ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ feature-disabled/        # æ©Ÿèƒ½ç„¡åŠ¹åŒ–é€šçŸ¥
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ profile/                 # ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ report/                  # ãƒ¬ãƒãƒ¼ãƒˆæ©Ÿèƒ½
â”‚   â”‚   â”‚   â”œâ”€â”€ [id]/
â”‚   â”‚   â”‚   â””â”€â”€ create/
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ requests/                # ç”³è«‹æ©Ÿèƒ½
â”‚   â”‚   â”‚   â”œâ”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ create/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ schedule/                # ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«æ©Ÿèƒ½
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â””â”€â”€ page.tsx                 # ãƒ¡ãƒ³ãƒãƒ¼ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ system-admin/                # ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ auth-logs/               # èªè¨¼ãƒ­ã‚°
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ company/                 # ä¼æ¥­ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ features/                # æ©Ÿèƒ½ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ logs/                    # ãƒ­ã‚°ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ system/                  # ã‚·ã‚¹ãƒ†ãƒ è¨­å®š
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â””â”€â”€ page.tsx                 # ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ globals.css                  # ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
â”‚   â”œâ”€â”€ layout.tsx                   # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”œâ”€â”€ manifest.json                # PWAãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆ
â”‚   â””â”€â”€ page.tsx                     # ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸
â”œâ”€â”€ components/                       # å†åˆ©ç”¨å¯èƒ½ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ admin/                       # ç®¡ç†è€…ç”¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ attendance/              # å‹¤æ€ ç®¡ç†ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ AttendanceDeleteDialog.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ AttendanceEditDialog.tsx
â”‚   â”‚   â”‚   â””â”€â”€ AttendanceFilters.tsx
â”‚   â”‚   â”œâ”€â”€ attendance-statuses/     # å‹¤æ€ ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ AttendanceStatusCreateDialog.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ AttendanceStatusDeleteDialog.tsx
â”‚   â”‚   â”‚   â””â”€â”€ AttendanceStatusEditDialog.tsx
â”‚   â”‚   â”œâ”€â”€ employment-types/        # é›‡ç”¨å½¢æ…‹ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ EmploymentTypeCreateDialog.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ EmploymentTypeDeleteDialog.tsx
â”‚   â”‚   â”‚   â””â”€â”€ EmploymentTypeEditDialog.tsx
â”‚   â”‚   â”œâ”€â”€ groups/                  # ã‚°ãƒ«ãƒ¼ãƒ—ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ GroupCreateDialog.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ GroupDeleteDialog.tsx
â”‚   â”‚   â”‚   â””â”€â”€ GroupEditDialog.tsx
â”‚   â”‚   â”œâ”€â”€ request-forms/           # ç”³è«‹ãƒ•ã‚©ãƒ¼ãƒ ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ ApprovalFlowBuilder.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ RequestFormCreateDialog.tsx
â”‚   â”‚   â”‚   â””â”€â”€ RequestFormDeleteDialog.tsx
â”‚   â”‚   â”œâ”€â”€ users/                   # ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ UserCreateDialog.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ UserDeleteDialog.tsx
â”‚   â”‚   â”‚   â””â”€â”€ UserEditDialog.tsx
â”‚   â”‚   â”œâ”€â”€ work-types/              # å‹¤å‹™ã‚¿ã‚¤ãƒ—ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ BreakTimesInput.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ WorkTypeCreateDialog.tsx
â”‚   â”‚   â”‚   â””â”€â”€ WorkTypeDeleteDialog.tsx
â”‚   â”‚   â”œâ”€â”€ AuthMonitoring.tsx       # èªè¨¼ç›£è¦–
â”‚   â”‚   â”œâ”€â”€ ColumnSettingsDialog.tsx # ã‚«ãƒ©ãƒ è¨­å®š
â”‚   â”‚   â”œâ”€â”€ CsvExportDialog.tsx      # CSVå‡ºåŠ›
â”‚   â”‚   â””â”€â”€ RequestMonitoring.tsx    # ç”³è«‹ç›£è¦–
â”‚   â”œâ”€â”€ auth/                        # èªè¨¼é–¢é€£
â”‚   â”‚   â”œâ”€â”€ LoginForm.tsx
â”‚   â”‚   â””â”€â”€ PasswordInput.tsx
â”‚   â”œâ”€â”€ forms/                       # ãƒ•ã‚©ãƒ¼ãƒ é–¢é€£
â”‚   â”‚   â”œâ”€â”€ ClockRecordsInput.tsx
â”‚   â”‚   â”œâ”€â”€ DynamicForm.tsx
â”‚   â”‚   â”œâ”€â”€ FormBuilder.tsx
â”‚   â”‚   â””â”€â”€ ObjectTypeSettingsDialog.tsx
â”‚   â”œâ”€â”€ layout/                      # ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆé–¢é€£
â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”œâ”€â”€ MainLayout.tsx
â”‚   â”‚   â”œâ”€â”€ PageTransitionLoader.tsx
â”‚   â”‚   â””â”€â”€ Sidebar.tsx
â”‚   â”œâ”€â”€ member/                      # ãƒ¡ãƒ³ãƒãƒ¼ç”¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ attendance/
â”‚   â”‚   â”‚   â””â”€â”€ AttendanceFilters.tsx
â”‚   â”‚   â”œâ”€â”€ request/
â”‚   â”‚   â”‚   â””â”€â”€ RequestEditDialog.tsx
â”‚   â”‚   â”œâ”€â”€ settings/
â”‚   â”‚   â”‚   â””â”€â”€ UserSettings.tsx
â”‚   â”‚   â”œâ”€â”€ ClockHistory.tsx
â”‚   â”‚   â””â”€â”€ ClockHistory.tsx
â”‚   â”œâ”€â”€ notifications/               # é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ 
â”‚   â”‚   â””â”€â”€ NotificationBell.tsx
â”‚   â”œâ”€â”€ pwa/                         # PWAé–¢é€£
â”‚   â”‚   â”œâ”€â”€ InstallPrompt.tsx
â”‚   â”‚   â”œâ”€â”€ OfflineIndicator.tsx
â”‚   â”‚   â””â”€â”€ PwaScript.tsx
â”‚   â”œâ”€â”€ system-admin/                # ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…ç”¨
â”‚   â”‚   â””â”€â”€ company/
â”‚   â”‚       â”œâ”€â”€ CompanyCreateDialog.tsx
â”‚   â”‚       â”œâ”€â”€ CompanyDeleteDialog.tsx
â”‚   â”‚       â””â”€â”€ CompanyEditDialog.tsx
â”‚   â””â”€â”€ ui/                          # åŸºæœ¬UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚       â”œâ”€â”€ accordion.tsx
â”‚       â”œâ”€â”€ action-button.tsx
â”‚       â”œâ”€â”€ alert-dialog.tsx
â”‚       â”œâ”€â”€ alert.tsx
â”‚       â”œâ”€â”€ aspect-ratio.tsx
â”‚       â”œâ”€â”€ avatar.tsx
â”‚       â”œâ”€â”€ badge.tsx
â”‚       â”œâ”€â”€ breadcrumb.tsx
â”‚       â”œâ”€â”€ button.tsx
â”‚       â”œâ”€â”€ calendar.tsx
â”‚       â”œâ”€â”€ card.tsx
â”‚       â”œâ”€â”€ carousel.tsx
â”‚       â”œâ”€â”€ chart.tsx
â”‚       â”œâ”€â”€ checkbox.tsx
â”‚       â”œâ”€â”€ collapsible.tsx
â”‚       â”œâ”€â”€ combobox.tsx
â”‚       â”œâ”€â”€ command.tsx
â”‚       â”œâ”€â”€ context-menu.tsx
â”‚       â”œâ”€â”€ dialog.tsx
â”‚       â”œâ”€â”€ drawer.tsx
â”‚       â”œâ”€â”€ dropdown-menu.tsx
â”‚       â”œâ”€â”€ form.tsx
â”‚       â”œâ”€â”€ hover-card.tsx
â”‚       â”œâ”€â”€ input-otp.tsx
â”‚       â”œâ”€â”€ input.tsx
â”‚       â”œâ”€â”€ label.tsx
â”‚       â”œâ”€â”€ loading-overlay.tsx
â”‚       â”œâ”€â”€ menubar.tsx
â”‚       â”œâ”€â”€ navigation-menu.tsx
â”‚       â”œâ”€â”€ pagination.tsx
â”‚       â”œâ”€â”€ popover.tsx
â”‚       â”œâ”€â”€ progress.tsx
â”‚       â”œâ”€â”€ radio-group.tsx
â”‚       â”œâ”€â”€ resizable.tsx
â”‚       â”œâ”€â”€ scroll-area.tsx
â”‚       â”œâ”€â”€ select.tsx
â”‚       â”œâ”€â”€ separator.tsx
â”‚       â”œâ”€â”€ sheet.tsx
â”‚       â”œâ”€â”€ skeleton.tsx
â”‚       â”œâ”€â”€ slider.tsx
â”‚       â”œâ”€â”€ sonner.tsx
â”‚       â”œâ”€â”€ standard-button.tsx
â”‚       â”œâ”€â”€ stats-card.tsx
â”‚       â”œâ”€â”€ switch.tsx
â”‚       â”œâ”€â”€ table.tsx
â”‚       â”œâ”€â”€ tabs.tsx
â”‚       â”œâ”€â”€ textarea.tsx
â”‚       â”œâ”€â”€ time-display.tsx
â”‚       â”œâ”€â”€ toast.tsx
â”‚       â”œâ”€â”€ toaster.tsx
â”‚       â”œâ”€â”€ toggle-group.tsx
â”‚       â”œâ”€â”€ toggle.tsx
â”‚       â””â”€â”€ tooltip.tsx
â”œâ”€â”€ contexts/                        # React Context
â”‚   â”œâ”€â”€ auth-context.tsx             # èªè¨¼çŠ¶æ…‹ç®¡ç†
â”‚   â”œâ”€â”€ data-context.tsx             # ãƒ‡ãƒ¼ã‚¿çŠ¶æ…‹ç®¡ç†
â”‚   â””â”€â”€ page-transition-context.tsx  # ãƒšãƒ¼ã‚¸é·ç§»ç®¡ç†
â”œâ”€â”€ hooks/                           # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
â”‚   â”œâ”€â”€ use-company-features.ts      # ä¼æ¥­æ©Ÿèƒ½ãƒ•ãƒƒã‚¯
â”‚   â””â”€â”€ use-toast.ts                 # ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥
â”œâ”€â”€ lib/                             # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ»è¨­å®š
â”‚   â”œâ”€â”€ actions/                     # Server Actions
â”‚   â”‚   â”œâ”€â”€ admin/                   # ç®¡ç†è€…ç”¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
â”‚   â”‚   â”‚   â”œâ”€â”€ employment-types.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ groups.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ report-templates.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ request-forms.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ users.ts
â”‚   â”‚   â”‚   â””â”€â”€ work-types.ts
â”‚   â”‚   â”œâ”€â”€ attendance.ts            # å‹¤æ€ é–¢é€£
â”‚   â”‚   â”œâ”€â”€ auth.ts                  # èªè¨¼é–¢é€£
â”‚   â”‚   â”œâ”€â”€ chat.ts                  # ãƒãƒ£ãƒƒãƒˆé–¢é€£
â”‚   â”‚   â”œâ”€â”€ report-templates.ts      # ãƒ¬ãƒãƒ¼ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚   â”‚   â”œâ”€â”€ reports.ts               # ãƒ¬ãƒãƒ¼ãƒˆé–¢é€£
â”‚   â”‚   â”œâ”€â”€ requests.ts              # ç”³è«‹é–¢é€£
â”‚   â”‚   â”œâ”€â”€ settings.ts              # è¨­å®šé–¢é€£
â”‚   â”‚   â”œâ”€â”€ system-admin/            # ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…ç”¨
â”‚   â”‚   â”‚   â”œâ”€â”€ company.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ feature.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ features.ts
â”‚   â”‚   â”‚   â””â”€â”€ logs.ts
â”‚   â”‚   â”œâ”€â”€ user-settings.ts         # ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®š
â”‚   â”‚   â””â”€â”€ user.ts                  # ãƒ¦ãƒ¼ã‚¶ãƒ¼é–¢é€£
â”‚   â”œâ”€â”€ auth.ts                      # èªè¨¼è¨­å®š
â”‚   â”œâ”€â”€ middleware/                  # ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢
â”‚   â”‚   â”œâ”€â”€ feature-check.ts         # æ©Ÿèƒ½ãƒã‚§ãƒƒã‚¯
â”‚   â”‚   â””â”€â”€ logging.ts               # ãƒ­ã‚°æ©Ÿèƒ½
â”‚   â”œâ”€â”€ mock.ts                      # ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿
â”‚   â”œâ”€â”€ provider.ts                  # ãƒ‡ãƒ¼ã‚¿ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼
â”‚   â”œâ”€â”€ pwa/                         # PWAé–¢é€£
â”‚   â”‚   â””â”€â”€ push-notification.ts     # ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥
â”‚   â”œâ”€â”€ supabase-provider.ts         # Supabaseæ¥ç¶š
â”‚   â”œâ”€â”€ supabase-realtime.ts         # ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ©Ÿèƒ½
â”‚   â”œâ”€â”€ supabase/                    # Supabaseè¨­å®š
â”‚   â”‚   â””â”€â”€ server.ts
â”‚   â”œâ”€â”€ supabase.ts                  # Supabaseè¨­å®š
â”‚   â””â”€â”€ utils/                       # ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°
â”‚       â”œâ”€â”€ attendance-validation.ts # å‹¤æ€ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
â”‚       â”œâ”€â”€ error-handling.ts        # ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
â”‚       â”œâ”€â”€ log-system.ts            # ãƒ­ã‚°ã‚·ã‚¹ãƒ†ãƒ 
â”‚       â”œâ”€â”€ request-type-defaults.ts # ç”³è«‹ã‚¿ã‚¤ãƒ—ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ
â”‚       â”œâ”€â”€ request-type-utils.ts    # ç”³è«‹ã‚¿ã‚¤ãƒ—ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚       â””â”€â”€ user-company.ts          # ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¼æ¥­é–¢é€£
â”œâ”€â”€ middleware/                      # Next.js ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢
â”‚   â””â”€â”€ logging.ts                   # ãƒ­ã‚°æ©Ÿèƒ½
â”œâ”€â”€ schemas/                         # ã‚¹ã‚­ãƒ¼ãƒå®šç¾©
â”‚   â”œâ”€â”€ actions/                     # Server Actions ã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”‚   â”œâ”€â”€ attendance.ts
â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”œâ”€â”€ chat.ts
â”‚   â”‚   â”œâ”€â”€ report.ts
â”‚   â”‚   â”œâ”€â”€ request.ts
â”‚   â”‚   â”œâ”€â”€ response.ts
â”‚   â”‚   â”œâ”€â”€ settings.ts
â”‚   â”‚   â”œâ”€â”€ stats.ts
â”‚   â”‚   â””â”€â”€ validation.ts
â”‚   â”œâ”€â”€ api/                         # API ã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”‚   â”œâ”€â”€ attendance.ts
â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”œâ”€â”€ batch.ts
â”‚   â”‚   â”œâ”€â”€ cache.ts
â”‚   â”‚   â”œâ”€â”€ dashboard.ts
â”‚   â”‚   â”œâ”€â”€ error.ts
â”‚   â”‚   â”œâ”€â”€ export.ts
â”‚   â”‚   â”œâ”€â”€ file.ts
â”‚   â”‚   â”œâ”€â”€ group.ts
â”‚   â”‚   â”œâ”€â”€ health.ts
â”‚   â”‚   â”œâ”€â”€ log.ts
â”‚   â”‚   â”œâ”€â”€ notification.ts
â”‚   â”‚   â”œâ”€â”€ pagination.ts
â”‚   â”‚   â”œâ”€â”€ rate-limit.ts
â”‚   â”‚   â”œâ”€â”€ request.ts
â”‚   â”‚   â”œâ”€â”€ response.ts
â”‚   â”‚   â”œâ”€â”€ search.ts
â”‚   â”‚   â”œâ”€â”€ system.ts
â”‚   â”‚   â”œâ”€â”€ user.ts
â”‚   â”‚   â””â”€â”€ webhook.ts
â”‚   â”œâ”€â”€ common/                      # å…±é€šã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”‚   â”œâ”€â”€ response.ts
â”‚   â”‚   â””â”€â”€ validation.ts
â”‚   â”œâ”€â”€ database/                    # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”‚   â”œâ”€â”€ api.ts
â”‚   â”‚   â”œâ”€â”€ attendance.ts
â”‚   â”‚   â”œâ”€â”€ audit.ts
â”‚   â”‚   â”œâ”€â”€ base.ts
â”‚   â”‚   â”œâ”€â”€ dashboard.ts
â”‚   â”‚   â”œâ”€â”€ feature.ts
â”‚   â”‚   â”œâ”€â”€ filter.ts
â”‚   â”‚   â”œâ”€â”€ form.ts
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ log.ts
â”‚   â”‚   â”œâ”€â”€ organization.ts
â”‚   â”‚   â”œâ”€â”€ request.ts
â”‚   â”‚   â”œâ”€â”€ settings.ts
â”‚   â”‚   â”œâ”€â”€ stats.ts
â”‚   â”‚   â”œâ”€â”€ supabase.ts
â”‚   â”‚   â””â”€â”€ view.ts
â”‚   â”œâ”€â”€ form/                        # ãƒ•ã‚©ãƒ¼ãƒ ã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”‚   â”œâ”€â”€ analytics.ts
â”‚   â”‚   â”œâ”€â”€ builder.ts
â”‚   â”‚   â”œâ”€â”€ field.ts
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ template.ts
â”‚   â”‚   â””â”€â”€ validation.ts
â”‚   â”œâ”€â”€ system/                      # ã‚·ã‚¹ãƒ†ãƒ ã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ input.ts
â”‚   â”‚   â”œâ”€â”€ monitoring.ts
â”‚   â”‚   â”œâ”€â”€ search.ts
â”‚   â”‚   â””â”€â”€ template.ts
â”‚   â”œâ”€â”€ attendance.ts                # å‹¤æ€ ã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”œâ”€â”€ auth.ts                      # èªè¨¼ã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”œâ”€â”€ chat.ts                      # ãƒãƒ£ãƒƒãƒˆã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”œâ”€â”€ company.ts                   # ä¼æ¥­ã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”œâ”€â”€ employment-type.ts           # é›‡ç”¨å½¢æ…‹ã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”œâ”€â”€ features.ts                  # æ©Ÿèƒ½ã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”œâ”€â”€ form/                        # ãƒ•ã‚©ãƒ¼ãƒ é–¢é€£
â”‚   â”œâ”€â”€ group.ts                     # ã‚°ãƒ«ãƒ¼ãƒ—ã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”œâ”€â”€ groups.ts                    # ã‚°ãƒ«ãƒ¼ãƒ—ã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”œâ”€â”€ index.ts                     # ã‚¹ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
â”‚   â”œâ”€â”€ report-templates.ts          # ãƒ¬ãƒãƒ¼ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”œâ”€â”€ report.ts                    # ãƒ¬ãƒãƒ¼ãƒˆã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”œâ”€â”€ request-forms.ts             # ç”³è«‹ãƒ•ã‚©ãƒ¼ãƒ ã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”œâ”€â”€ request.ts                   # ç”³è«‹ã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”œâ”€â”€ schedule.ts                  # ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”œâ”€â”€ setting.ts                   # è¨­å®šã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”œâ”€â”€ user_group.ts                # ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚°ãƒ«ãƒ¼ãƒ—ã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”œâ”€â”€ user_profile.ts              # ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”œâ”€â”€ users.ts                     # ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ã‚­ãƒ¼ãƒ
â”‚   â””â”€â”€ work-types.ts                # å‹¤å‹™ã‚¿ã‚¤ãƒ—ã‚¹ã‚­ãƒ¼ãƒ
â”œâ”€â”€ supabase/                        # Supabaseè¨­å®š
â”‚   â”œâ”€â”€ config.toml                  # Supabaseè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â””â”€â”€ migrations/                  # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
â”‚       â”œâ”€â”€ 20250709043653_setup_database.sql
â”‚       â”œâ”€â”€ 20250711000000_add_is_active_to_companies.sql
â”‚       â”œâ”€â”€ 20250712000000_enable_service_role_rls.sql
â”‚       â”œâ”€â”€ 20250713000000_setup_rls_policies.sql
â”‚       â”œâ”€â”€ 20250714000000_fix_rls_recursion.sql
â”‚       â”œâ”€â”€ 20250715000000_fix_user_profiles_rls.sql
â”‚       â”œâ”€â”€ 20250720000000_make_user_profiles_role_required.sql
â”‚       â”œâ”€â”€ 20250721000001_fix_groups_and_user_groups_rls.sql
â”‚       â”œâ”€â”€ 20250721000003_add_is_active_to_groups.sql
â”‚       â”œâ”€â”€ 20250722000000_remove_primary_group_id.sql
â”‚       â”œâ”€â”€ 20250722000002_remove_unique_constraint_from_attendances.sql
â”‚       â”œâ”€â”€ 20250723000000_add_company_id_to_employment_types.sql
â”‚       â”œâ”€â”€ 20250724000000_add_settings_to_work_types.sql
â”‚       â””â”€â”€ [ãã®ä»–ã®ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«]
â”œâ”€â”€ types/                           # TypeScriptå‹å®šç¾©
â”‚   â”œâ”€â”€ common.ts                    # å…±é€šå‹
â”‚   â”œâ”€â”€ database-types.ts            # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å‹
â”‚   â”œâ”€â”€ dynamic-data.ts              # å‹•çš„ãƒ‡ãƒ¼ã‚¿å‹
â”‚   â”œâ”€â”€ index.ts                     # å‹ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
â”‚   â”œâ”€â”€ ui.ts                        # UIå‹
â”‚   â””â”€â”€ usage-examples.ts            # ä½¿ç”¨ä¾‹
â”œâ”€â”€ doc/                             # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ attendance-calculations-fix.md
â”‚   â”œâ”€â”€ attendance-statuses-auto-generation.md
â”‚   â”œâ”€â”€ data-provider-guide.md       # ãƒ‡ãƒ¼ã‚¿ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼è¨­è¨ˆ
â”‚   â”œâ”€â”€ db_design.svg                # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆå›³
â”‚   â”œâ”€â”€ environment-workflow.svg     # ç’°å¢ƒãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å›³
â”‚   â”œâ”€â”€ PRODUCTION_CHECKLIST.md      # æœ¬ç•ªç’°å¢ƒãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
â”‚   â”œâ”€â”€ README-PWA-SETUP.md          # PWAè¨­å®šã‚¬ã‚¤ãƒ‰
â”‚   â””â”€â”€ README-SUPABASE-SETUP.md     # Supabaseè¨­å®šã‚¬ã‚¤ãƒ‰
â”œâ”€â”€ public/                          # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ android-chrome-192x192.png   # PWAã‚¢ã‚¤ã‚³ãƒ³
â”‚   â”œâ”€â”€ android-chrome-512x512.png   # PWAã‚¢ã‚¤ã‚³ãƒ³
â”‚   â”œâ”€â”€ favicon-16x16.png            # ãƒ•ã‚¡ãƒ“ã‚³ãƒ³
â”‚   â””â”€â”€ sw.js                        # Service Worker
â”œâ”€â”€ components.json                  # shadcn/uiè¨­å®š
â”œâ”€â”€ next.config.js                   # Next.jsè¨­å®š
â”œâ”€â”€ package.json                     # ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸è¨­å®š
â”œâ”€â”€ pnpm-lock.yaml                   # pnpmãƒ­ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ pnpm-workspace.yaml              # pnpmãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹è¨­å®š
â”œâ”€â”€ postcss.config.js                # PostCSSè¨­å®š
â”œâ”€â”€ tailwind.config.ts               # Tailwind CSSè¨­å®š
â”œâ”€â”€ tsconfig.json                    # TypeScriptè¨­å®š
â”œâ”€â”€ TROUBLESHOOTING.md               # ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
â””â”€â”€ README.md                        # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
```

## ğŸ”§ ãƒ‡ãƒ¼ã‚¿ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼è¨­è¨ˆ

TimePort v4ã¯é–‹ç™ºæ®µéšã«å¿œã˜ã¦ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã¨Supabaseã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹è¨­è¨ˆã‚’æ¡ç”¨ã—ã¦ã„ã¾ã™ã€‚

### åˆ‡ã‚Šæ›¿ãˆæ–¹æ³•

**é–‹ç™ºåˆæœŸï¼ˆãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ä½¿ç”¨ï¼‰:**

```env
NEXT_PUBLIC_USE_SUPABASE=false
```

**æœ¬ç•ªç’°å¢ƒï¼ˆSupabaseä½¿ç”¨ï¼‰:**

```env
NEXT_PUBLIC_USE_SUPABASE=true
```

### ä½¿ç”¨ä¾‹

```typescript
import { getAttendanceData, createRequest } from '@/lib/provider';

// ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã«é–¢ä¿‚ãªãåŒã˜APIã§ä½¿ç”¨
const attendanceData = await getAttendanceData(userId);
const result = await createRequest(requestData);
```

è©³ç´°ã¯ [ãƒ‡ãƒ¼ã‚¿ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼è¨­è¨ˆã‚¬ã‚¤ãƒ‰](./doc/data-provider-guide.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ğŸ¯ ä¸»è¦æ©Ÿèƒ½

### ğŸ‘¨â€ğŸ’¼ ç®¡ç†è€…æ©Ÿèƒ½

- **ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰** - å…¨ç¤¾çµ±è¨ˆãƒ»æœªå‡¦ç†ç”³è«‹ã®ç¢ºèª
- **å‹¤æ€ ç®¡ç†** - å…¨ãƒ¡ãƒ³ãƒãƒ¼ã®å‹¤æ€ ãƒ‡ãƒ¼ã‚¿ç®¡ç†ãƒ»CSVå‡ºåŠ›
- **å‹¤æ€ ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç®¡ç†** - å‹¤æ€ ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®ä½œæˆãƒ»ç·¨é›†ãƒ»å‰Šé™¤
- **ç”³è«‹ç®¡ç†** - ç”³è«‹ã®æ‰¿èªãƒ»å´ä¸‹å‡¦ç†ãƒ»ç›£è¦–
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†** - ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆãƒ»ç·¨é›†ãƒ»å‰Šé™¤
- **ã‚°ãƒ«ãƒ¼ãƒ—ç®¡ç†** - çµ„ç¹”æ§‹é€ ã®ç®¡ç†
- **ç”³è«‹ãƒ•ã‚©ãƒ¼ãƒ ç®¡ç†** - å‹•çš„ãƒ•ã‚©ãƒ¼ãƒ ã®ä½œæˆãƒ»ç·¨é›†
- **ãƒ¬ãƒãƒ¼ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç†** - ãƒ¬ãƒãƒ¼ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ä½œæˆãƒ»ç·¨é›†
- **è¨­å®šç®¡ç†**
  - ã‚·ã‚¹ãƒ†ãƒ è¨­å®šï¼ˆä¼æ¥­æƒ…å ±ãƒ»ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ï¼‰
  - é€šçŸ¥è¨­å®š
  - å‹¤å‹™æ™‚é–“è¨­å®š
  - é›‡ç”¨å½¢æ…‹ãƒ»å‹¤å‹™ãƒ‘ã‚¿ãƒ¼ãƒ³ç®¡ç†
- **ãƒ­ã‚°ç®¡ç†** - ã‚·ã‚¹ãƒ†ãƒ ãƒ­ã‚°ã®ç¢ºèªãƒ»ç›£æŸ»

### ğŸ‘¤ ãƒ¡ãƒ³ãƒãƒ¼æ©Ÿèƒ½

- **ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰** - å€‹äººçµ±è¨ˆãƒ»ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
- **æ‰“åˆ»** - å‡ºå‹¤ãƒ»é€€å‹¤ãƒ»ä¼‘æ†©ã®è¨˜éŒ²
- **å‹¤æ€ ä¸€è¦§** - å€‹äººã®å‹¤æ€ å±¥æ­´ç¢ºèª
- **ç”³è«‹** - å‹•çš„ãƒ•ã‚©ãƒ¼ãƒ ã«ã‚ˆã‚‹å„ç¨®ç”³è«‹
- **ç”³è«‹ä¸€è¦§** - ç”³è«‹çŠ¶æ³ã®ç¢ºèª
- **ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«** - å€‹äººæƒ…å ±ã®ç®¡ç†
- **ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«** - ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†
- **ãƒãƒ£ãƒƒãƒˆ** - ãƒãƒ¼ãƒ å†…ãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½
- **ãƒ¬ãƒãƒ¼ãƒˆ** - ãƒ¬ãƒãƒ¼ãƒˆä½œæˆãƒ»ç¢ºèª

### ğŸ”§ ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…æ©Ÿèƒ½

- **ä¼æ¥­ç®¡ç†** - è¤‡æ•°ä¼æ¥­ã®ç®¡ç†
- **æ©Ÿèƒ½ç®¡ç†** - æ©Ÿèƒ½ã®ON/OFFåˆ¶å¾¡
- **ã‚·ã‚¹ãƒ†ãƒ è¨­å®š** - å…¨ä½“è¨­å®šã®ç®¡ç†
- **èªè¨¼ãƒ­ã‚°** - èªè¨¼å±¥æ­´ã®ç¢ºèª
- **ãƒ­ã‚°ç®¡ç†** - ã‚·ã‚¹ãƒ†ãƒ ãƒ­ã‚°ã®ç¢ºèª

## ğŸ”§ ç”³è«‹ãƒ•ã‚©ãƒ¼ãƒ ãƒ“ãƒ«ãƒ€ãƒ¼

ç®¡ç†è€…ãŒè‡ªç”±ã«ç”³è«‹ãƒ•ã‚©ãƒ¼ãƒ ã‚’ä½œæˆã§ãã‚‹å‹•çš„ãƒ•ã‚©ãƒ¼ãƒ æ©Ÿèƒ½ï¼š

### ã‚µãƒãƒ¼ãƒˆã™ã‚‹å…¥åŠ›ã‚¿ã‚¤ãƒ—

- ãƒ†ã‚­ã‚¹ãƒˆï¼ˆä¸€è¡Œãƒ»è¤‡æ•°è¡Œï¼‰
- æ•°å€¤ãƒ»æ—¥ä»˜ãƒ»æ™‚åˆ»ãƒ»æ—¥æ™‚
- ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒ»é›»è©±ç•ªå·
- é¸æŠè‚¢ï¼ˆãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãƒ»ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³ï¼‰
- ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ãƒ»ãƒ•ã‚¡ã‚¤ãƒ«

### å…¥åŠ›è¦å‰‡è¨­å®š

- å¿…é ˆ/ä»»æ„ã®è¨­å®š
- æ–‡å­—æ•°åˆ¶é™ãƒ»æ•°å€¤ç¯„å›²
- æ­£è¦è¡¨ç¾ãƒ‘ã‚¿ãƒ¼ãƒ³
- ã‚«ã‚¹ã‚¿ãƒ ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

## ğŸ—„ï¸ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

### ä¸»è¦ãƒ†ãƒ¼ãƒ–ãƒ«

- **companies** - ä¼æ¥­æƒ…å ±
- **groups** - ã‚°ãƒ«ãƒ¼ãƒ—ãƒ»çµ„ç¹”æƒ…å ±
- **user_profiles** - ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±
- **user_groups** - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã‚°ãƒ«ãƒ¼ãƒ—ã®é–¢é€£
- **attendances** - å‹¤æ€ è¨˜éŒ²
- **attendance_statuses** - å‹¤æ€ ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
- **request_forms** - ç”³è«‹ãƒ•ã‚©ãƒ¼ãƒ å®šç¾©
- **requests** - ç”³è«‹ãƒ‡ãƒ¼ã‚¿
- **request_statuses** - ç”³è«‹ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
- **work_types** - å‹¤å‹™ãƒ‘ã‚¿ãƒ¼ãƒ³
- **employment_types** - é›‡ç”¨å½¢æ…‹
- **leave_types** - ä¼‘æš‡ç¨®åˆ¥
- **notifications** - é€šçŸ¥ãƒ‡ãƒ¼ã‚¿
- **features** - æ©Ÿèƒ½è¨­å®š
- **audit_logs** - ç›£æŸ»ãƒ­ã‚°
- **system_logs** - ã‚·ã‚¹ãƒ†ãƒ ãƒ­ã‚°

### çµ„ç¹”éšå±¤

```
ä¼æ¥­ (companies)
â”œâ”€â”€ ã‚°ãƒ«ãƒ¼ãƒ— (groups)
â”‚   â”œâ”€â”€ å­ã‚°ãƒ«ãƒ¼ãƒ—
â”‚   â””â”€â”€ ãƒ¦ãƒ¼ã‚¶ãƒ¼ (user_profiles)
â”œâ”€â”€ æ©Ÿèƒ½è¨­å®š (features)
â””â”€â”€ ç›£æŸ»ãƒ­ã‚° (audit_logs)
```

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

- **Row Level Security (RLS)** - ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡
- **èªè¨¼** - Supabase Auth ã«ã‚ˆã‚‹å®‰å…¨ãªèªè¨¼
- **æ¨©é™ç®¡ç†** - å½¹å‰²ãƒ™ãƒ¼ã‚¹ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡
- **ç›£æŸ»ãƒ­ã‚°** - ã‚·ã‚¹ãƒ†ãƒ æ“ä½œã®è¿½è·¡

## ğŸ“± PWAæ©Ÿèƒ½

TimePort v4ã¯Progressive Web App (PWA) ã¨ã—ã¦å‹•ä½œã—ã€ä»¥ä¸‹ã®æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ï¼š

- **ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œ** - ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šãªã—ã§ã‚‚åŸºæœ¬æ©Ÿèƒ½ãŒåˆ©ç”¨å¯èƒ½
- **ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥** - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šçŸ¥
- **ãƒ›ãƒ¼ãƒ ç”»é¢è¿½åŠ ** - ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ—ãƒªã®ã‚ˆã†ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¯èƒ½
- **Service Worker** - ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å‡¦ç†

è©³ç´°ã¯ [PWAè¨­å®šã‚¬ã‚¤ãƒ‰](./doc/README-PWA-SETUP.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ğŸš€ æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤

### Supabaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æº–å‚™

1. [Supabase](https://supabase.com/) ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒã®é©ç”¨:

```bash
# Supabase CLIã‚’ä½¿ç”¨
supabase db reset --db-url YOUR_DATABASE_URL

# ã¾ãŸã¯æ‰‹å‹•ã§ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
# supabase/migrations/ å†…ã®SQLãƒ•ã‚¡ã‚¤ãƒ«ã‚’é †æ¬¡å®Ÿè¡Œ
```

3. ç’°å¢ƒå¤‰æ•°ã®æ›´æ–°:

```env
NEXT_PUBLIC_USE_SUPABASE=true
NEXT_PUBLIC_SUPABASE_URL=your_project_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key
```

### Vercelã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤

```bash
pnpm build
pnpm start
```

ã¾ãŸã¯ã€Vercelã«ç›´æ¥ãƒ‡ãƒ—ãƒ­ã‚¤ï¼š

[![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/new/clone?repository-url=https://github.com/canvas-sapporo/timeport-v4)

## ğŸ› ï¸ é–‹ç™º

### æ¨å¥¨é–‹ç™ºãƒ•ãƒ­ãƒ¼

1. **ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã§é–‹ç™ºé–‹å§‹** (`NEXT_PUBLIC_USE_SUPABASE=false`)
2. **UI/UX ã®å®Œæˆ**
3. **Supabaseè¨­å®š** (`NEXT_PUBLIC_USE_SUPABASE=true`)
4. **æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤**

### åˆ©ç”¨å¯èƒ½ãªã‚¹ã‚¯ãƒªãƒ—ãƒˆ

```bash
# é–‹ç™ºç’°å¢ƒã‚’ã‚¯ãƒªãƒ¼ãƒ³
Remove-Item -Recurse -Force .next, node_modules, pnpm-lock.yaml -ErrorAction SilentlyContinue
pnpm store prune

# ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pnpm install

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
pnpm dev

# ãƒ“ãƒ«ãƒ‰
pnpm build

# æœ¬ç•ªã‚µãƒ¼ãƒãƒ¼èµ·å‹•
pnpm start

# ãƒªãƒ³ãƒˆ
pnpm lint

# å‹ãƒã‚§ãƒƒã‚¯
pnpm type-check
```

### ã‚³ãƒ¼ãƒ‰å“è³ª

- **TypeScript** - å‹å®‰å…¨æ€§ã®ç¢ºä¿
- **ESLint + Prettier** - ã‚³ãƒ¼ãƒ‰å“è³ªã®ç¶­æŒ
- **shadcn/ui** - ä¸€è²«ã—ãŸUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

## ğŸ“ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

Â© 2025, æ ªå¼ä¼æ¥­ãƒ†ã‚¯ãƒ¬ã‚¢

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

### ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥

TimePort v4ã¯ä»¥ä¸‹ã®ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥ã‚’æ¡ç”¨ã—ã¦ã„ã¾ã™ï¼š

```
main (æœ¬ç•ªç’°å¢ƒ)
  â†‘
stage (ç–‘ä¼¼æœ¬ç•ªç’°å¢ƒãƒ»ãƒ†ã‚¹ãƒˆãƒ»ãƒ¬ãƒ“ãƒ¥ãƒ¼)
  â†‘
dev (é–‹ç™ºç’°å¢ƒ)
  â†‘
dev/username/YYYYMMDD-XX (æ©Ÿèƒ½ãƒ–ãƒ©ãƒ³ãƒ)
```

#### ç’°å¢ƒã®å½¹å‰²

- **prod (æœ¬ç•ªç’°å¢ƒ)** - å®Ÿéš›ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä½¿ç”¨ã™ã‚‹æœ¬ç•ªã‚·ã‚¹ãƒ†ãƒ 
- **stage (ç–‘ä¼¼æœ¬ç•ªç’°å¢ƒ)** - æœ¬ç•ªç’°å¢ƒã¨åŒã˜æ§‹æˆã§ã®ãƒ†ã‚¹ãƒˆãƒ»ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”¨
- **dev (é–‹ç™ºç’°å¢ƒ)** - é–‹ç™ºè€…ãŒçµ±åˆãƒ†ã‚¹ãƒˆã‚’è¡Œã†ç’°å¢ƒ

#### é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

<div align="center">
  <img src="./doc/environment-workflow.svg" alt="ç’°å¢ƒãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å›³" width="800">
</div>

ã“ã®å›³ã¯ä»¥ä¸‹ã®é–‹ç™ºãƒ•ãƒ­ãƒ¼ã‚’ç¤ºã—ã¦ã„ã¾ã™ï¼š

1. **é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚º** - é–‹ç™ºè€…ãŒæ©Ÿèƒ½ãƒ–ãƒ©ãƒ³ãƒã§ä½œæ¥­
2. **ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ** - ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒã‹ã‚‰æœ¬ç•ªç’°å¢ƒã¸ã®ãƒªãƒªãƒ¼ã‚¹
3. **ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯/ãƒãƒ¼ã‚¸** - å¿…è¦ã«å¿œã˜ã¦æœ¬ç•ªç’°å¢ƒã‹ã‚‰ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒã¸ã®åŒæœŸ

### é–‹ç™ºãƒ•ãƒ­ãƒ¼

0. **ã‚³ãƒ¼ãƒ‰æ•´ç†**

- pnpm buildã§ã‚¨ãƒ©ãƒ¼ãŒå‡ºãªããªã‚‹ã¾ã§ã€ã‚³ãƒ¼ãƒ‰ä¿®æ­£ã™ã‚‹ã“ã¨

```bash
pnpm tsc --noEmit
pnpm fix
pnpm build
```

1. **æ©Ÿèƒ½ãƒ–ãƒ©ãƒ³ãƒã®ä½œæˆ**

```bash
git checkout stage
git pull origin stage
git checkout -b dev/yourname/YYYYMMDD-XX
```

ä¾‹ï¼š`dev/yonezawamasahiro/250731-00`

2. **é–‹ç™ºãƒ»ã‚³ãƒŸãƒƒãƒˆ**

   ```bash
   # é–‹ç™ºä½œæ¥­
   git add .
   git commit -m 'Add: æ–°æ©Ÿèƒ½ã®è¿½åŠ '
   git push origin dev/yourname/YYYYMMDD-XX
   ```

3. **devãƒ–ãƒ©ãƒ³ãƒã¸ã®ãƒãƒ¼ã‚¸**

   ```bash
   git checkout dev
   git pull origin dev
   git merge dev/yourname/YYYYMMDD-XX
   git push origin dev
   ```

4. **stageãƒ–ãƒ©ãƒ³ãƒã¸ã®ãƒãƒ¼ã‚¸**

   ```bash
   git checkout stage
   git pull origin stage
   git merge dev
   git push origin stage
   ```

   - ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒã§ãƒ†ã‚¹ãƒˆãƒ»ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’å®Ÿæ–½
   - å•é¡ŒãŒãªã‘ã‚Œã°æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã¸

5. **mainãƒ–ãƒ©ãƒ³ãƒã¸ã®ãƒãƒ¼ã‚¸ï¼ˆãƒªãƒªãƒ¼ã‚¹ï¼‰**

   ```bash
   git checkout main
   git pull origin main
   git merge stage
   git push origin main
   ```

   - æœ¬ç•ªç’°å¢ƒã¸ã®ãƒªãƒªãƒ¼ã‚¹

### ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¦ç´„

- **feat**: æ–°æ©Ÿèƒ½
- **fix**: ãƒã‚°ä¿®æ­£
- **docs**: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°
- **style**: ã‚³ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ«ä¿®æ­£
- **refactor**: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
- **test**: ãƒ†ã‚¹ãƒˆè¿½åŠ ãƒ»ä¿®æ­£
- **chore**: ãã®ä»–ã®å¤‰æ›´

ä¾‹ï¼š`feat: å‹¤æ€ æ‰“åˆ»æ©Ÿèƒ½ã®è¿½åŠ `

### ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆ

1. æ©Ÿèƒ½ãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰`dev`ãƒ–ãƒ©ãƒ³ãƒã¸ã®ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆ
2. ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’å®Ÿæ–½
3. æ‰¿èªå¾Œã«ãƒãƒ¼ã‚¸

### æ³¨æ„äº‹é …

- ç›´æ¥`main`ãƒ–ãƒ©ãƒ³ãƒã«ã‚³ãƒŸãƒƒãƒˆã—ãªã„
- æ©Ÿèƒ½ãƒ–ãƒ©ãƒ³ãƒã¯`stage`ã‹ã‚‰åˆ†å²ã™ã‚‹
- ãƒ†ã‚¹ãƒˆãƒ»ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¯`stage`ç’°å¢ƒã§å®Ÿæ–½
- ãƒªãƒªãƒ¼ã‚¹ã¯`stage`ã‹ã‚‰`main`ã¸ã®ãƒãƒ¼ã‚¸ã§è¡Œã†

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

- **Issues** - [GitHub Issues](https://github.com/canvas-sapporo/timeport-v4/issues)
- **Discussions** - [GitHub Discussions](https://github.com/canvas-sapporo/timeport-v4/discussions)

## ğŸ“š é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [ãƒ‡ãƒ¼ã‚¿ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼è¨­è¨ˆã‚¬ã‚¤ãƒ‰](./doc/data-provider-guide.md)
- [Supabaseè¨­å®šã‚¬ã‚¤ãƒ‰](./doc/README-SUPABASE-SETUP.md)
- [PWAè¨­å®šã‚¬ã‚¤ãƒ‰](./doc/README-PWA-SETUP.md)
- [æœ¬ç•ªç’°å¢ƒãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ](./doc/PRODUCTION_CHECKLIST.md)
- [ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆå›³](./doc/db_design.svg)
- [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](./TROUBLESHOOTING.md)

---

<div align="center">
  Made with â¤ï¸ by Canvas Sapporo Team
</div>
